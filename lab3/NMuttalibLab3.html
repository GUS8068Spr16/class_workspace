<!DOCTYPE html>
<html>
	<head>
		<title> Ecotourism in Philadelphia</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
		<link rel="stylesheet" type="text/css" href="css/own_style.css">
		<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
		<script src="js/leaflet-hash.js"></script>
		<script src="js/Autolinker.min.js"></script>
	<style>
	.leaflet-popup-content-wrapper {
	 background: #e93434;}
	</style>
	</head>
	<body>
		<div id="map"></div>
	
		<script>
		var map = L.map('map', {
			zoomControl:true, maxZoom:16, minZoom: 10,
			maxBounds: [[39.88, -75.24],[40.04, -75.08]]
		})
		.fitBounds([[39.8542247612,-75.3483823147],[40.1508598556,-74.8898240997]])
		.setView([39.9814408,-75.1572587], 13);
		
		var hash = new L.Hash(map);
		var additional_attrib = 'created with lots of help from <a href="https://github.com/geolicious/qgis2leaf" target ="_blank">qgis2leaf</a> by <a href="http://www.geolicious.de" target ="_blank">Geolicious</a> & contributors<br>';
		var feature_group = new L.featureGroup([]);
		var raster_group = new L.LayerGroup([]);
		var basemap_0 = L.tileLayer('http://a.tile.stamen.com/terrain/{z}/{x}/{y}.png', { 
			attribution: additional_attrib + 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data: &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors,<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
		});	
		basemap_0.addTo(map);	
		var layerOrder=new Array();
		
		
		function pop_ecotourism(feature, layer) {					
			var popupContent = '<table><tr><th scope="row">ID</th><td>' + Autolinker.link(String(feature.properties['ID'])) +  '</td></tr><tr><th scope="row">Work Name</th><td>' + Autolinker.link(String(feature.properties['Work_Name'])) + '</td></tr><tr><th scope="row">Address</th><td>' + Autolinker.link(String(feature.properties['address'])) + '</td></tr></table>';
			layer.bindPopup(popupContent);
		}
			var ecotourism = new L.geoJson(ecotourism{
				onEachFeature: pop_ecotourism,
				pointToLayer: function (feature, latlng) {  
					return L.circleMarker(latlng, {
						radius: 4.0,
						fillColor: '#925f92',
						color: '#000000',
						weight: 1,
						opacity: 1.0,
						fillOpacity: 1.0
					})
				}
			});
		
function onEachFeature(feature, layer) {
       popupOptions = {maxWidth: 120};
        if (feature.properties && feature.properties.Name) {
        layer.bindPopup(feature.properties.url + "<br>" + feature.properties.Name, popupOptions);
    }
	}	
	
	var geoJsonAL = [
  {
 "type": "FeatureCollection",
  "features": [
   
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 2,
        "Name": "Hotel Warner",
        "url": "<img src='http://www.hotelwarner.com/blog/wp-content/uploads/2015/11/rsz__mg_2213_4_5hdri_tonemapped-1.jpg'/>}"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.605701,
          39.96105
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 3,
        "Name": "Linvilla Orchard",
        "url": "<img src='http://img2.10bestmedia.com/Images/Photos/318169/Credit-Fran-Imhoff_54_990x660.JPG' height=100 width=100/>"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.475477,
          39.890111
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 4,
        "Name": "Longwood Gardens",
        "url":  "<img src='http://www.thebrandywine.com/attractions/images/longwood_photo.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.6747,
          39.8712
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 5,
        "Name": "Japanese Tea House",
        "url":  "<img src='http://www.visitphilly.com/resize/images/japanese-house-garden-philadelphia-587-587x0.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.2147,
          39.9753
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 6,
        "Name": "Horticulture Center",
        "url":  "<img src='http://static.panoramio.com/photos/large/69433376.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.2123,
          39.98431
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 7,
        "Name": "Valley Green",
        "url": "<img src='http://1.bp.blogspot.com/-XKetmP_4NK0/UFH-Q4WRrXI/AAAAAAAACk0/CIs8C3EGtr4/s1600/Vincent+Alleva+Jr+Devils+Pool+4.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.2181,
          40.05462
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 8,
        "Name": "Valley Green Inn",
        "url": "<img src='http://assets3.thrillist.com/v1/image/1158066/size/tl-horizontal_main/these-are-the-8-most-romantic-restaurants-in-philly' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.218,
          40.05462
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 9,
        "Name": "Kelly Drive",
        "url": "<img src='http://blog.fitnesstrainer.com/wp-content/uploads/2015/06/kelly-drive.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.2031,
          39.98376
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 10,
        "Name": "Belmont Plateau",
        "url": "<img src='http://loveyourpark.org/wp-content/themes/LYP2012/images/background/baseball.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.207,
          39.988
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "OBJECTID": 11,
        "Name": "Fairmount Park",
        "url": "<img src='https://res.cloudinary.com/roadtrippers/image/upload/c_fill,h_316,w_520/v1375813617/fairmount-park-52013f22d3bf7e7f00000a5c.jpg' height=100 width=100 />"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -75.2128,
          40.0208
        ]
      }
    },
    
    
  ]
}
  ];
  		feature_group.addTo(map);
		var title = new L.Control();
		title.onAdd = function (map) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};
		title.update = function () {
			this._div.innerHTML = '<h2>Ecotourism in Philadelphia</h2>Lab 3'
		};
		title.addTo(map);
	
		var baseMaps = {
		'Stamen Terrain': basemap_0	};
		L.control.layers(baseMaps,{"Ecotourism in Philadelphia": exp_ecotourism},{collapsed:false}).addTo(map);
			L.geoJson(geoJsonAL, {
				 onEachFeature: onEachFeature
			}).addTo(map);
	</script>
</body>
</html>